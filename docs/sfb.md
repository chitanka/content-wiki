Title: Описание на формата SFB

**SFB** е форматът, който _Моята библиотека_ използва за вътрешно представяне и съхраняване на текстовото съдържание на произведенията. Прочетете статията [Защо SFB?](/articles/why-sfb), за да се запознаете с принципите, залегнали в основата на този формат.

За начална ориентация вижте [видеоурока на Иван Ванков (gatakka)](http://www.youtube.com/watch?v=V1TJVct9v8Q).

Имайте предвид, че форматът SFB описва структурата на художественото произведение, а не начина, по който се форматира и извежда. В [пясъчника](/sandbox) можете да си правите експерименти и да видите по какъв начин се форматират текстовете в Моята библиотека. 

## Обща информация

Текстът се форматира по правилото „един параграф от произведението се представя в един ред от SFB-файла“. Всеки ред с текст трябва да започва с табулатор.

Форматиращите елементи (маркерите) са три вида — блокови, едноредови и параграфни.

### Блокови маркери

Ограждат част от текст с `X>` (отварящ маркер) и `X$` (затварящ маркер), където `X` е кодът на маркера. Трябва да са сами на ред; **без табулатор преди маркера и без текст след него**. Кодовете на всички маркери са на латиница. Такива маркери са:

* **А** ([анотация](/docs/sfb/annotation));
* **C** ([цитат](/docs/sfb/cite));
* **D** ([посвещение](/docs/sfb/dedication));
* **E** ([епиграф](/docs/sfb/epigraph));
* **F** ([преформатиран текст](/docs/sfb/pre-block));
* **I** ([информация](/docs/sfb/info));
* **P** ([стихове](/docs/sfb/poem));
* **T** ([таблица](/docs/sfb/table));
* **M** ([стилове](/docs/sfb/styles));

### Едноредови маркери

Разполагат се в началото на реда, преди табулатора, и оказват влияние само върху този ред. Такива маркери са:

* **|** ([заглавие](/docs/sfb/title));
* **#** ([подзаглавие](/docs/sfb/subtitle) или име на [таблица](/docs/sfb/table));
* **>** ([секция](/docs/sfb/section));
* **@** ([автор на текст](/docs/sfb/author));
* **@@** ([дата и място](/docs/sfb/place));
* **!** (заглавие на [таблица](/docs/sfb/table));
* **F** ([преформатиран текст](/docs/sfb/pre-block));

### Параграфни маркери

Ограждат част от реда с `{x}` (отварящ маркер) и `{/x}` (затварящ маркер), където `x` е кодът на маркера. Всички кодове са на латиница. Такива маркери са:

* **e** ([акцентиране](/docs/sfb/emphasis));
* **s** ([силен акцент](/docs/sfb/emphasis));
* **m** ([стилове](/docs/sfb/styles));
* **sup** ([горен индекс](/docs/sfb/sup-sub));
* **sub** ([долен индекс](/docs/sfb/sup-sub));
* **pre** ([преформатиран текст](/docs/sfb/pre-para));
* **del** ([зачертан текст](/docs/sfb/del))

### Други елементи

* [Сюжетен разделител](/docs/sfb/divider);
* [Бележка под линия](/docs/sfb/footnote);
* [Ударение](/docs/sfb/acute);
